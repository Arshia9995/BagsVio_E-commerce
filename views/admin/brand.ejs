<%- include('header')-%>

<%- include('sidebar') -%>

<style>
.admin-content-container {
    margin-left: 0;
}
@media (min-width: 992px) {
    .admin-content-container {
        margin-left: 230px;
    }
}
</style>

<div class="container mt-5 admin-content-container">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">Brand List</h2>
        <a href="/admin/addbrand" class="btn btn-success">Add Brand</a>
    </div>
    <div class="table-responsive" style="margin-top: 20px;">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>No</th>
                    <th>Brand</th>
                    <th>Edit</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
               <% brands.forEach((brand) => { %>
                <tr>
                    <td>
                        <%= ++i%>
                    </td>
                    <td>  
                        <%= brand.brandName %>
                    </td>

                    <td><a class="btn btn-success"  href="/admin/editbrand/<%=brand._id%>">Edit</a>
                    </td>
                    <td> 
                        <% if (brand.isBlocked) { %>
                            <form action="/admin/unblockbrand/<%= brand._id %>" method="post" onsubmit="return confirm('Are you sure you want to unblock this brand?');">
                                <button class="btn btn-danger">Unblock</button>
                            </form>
                        <% } else { %>
                            <form action="/admin/blockbrand/<%= brand._id %>" method="post" onsubmit="return confirm('Are you sure you want to block this brand?');">
                                <button class="btn btn-success">Block</button>
                            </form>
                        <% } %>
                    </td>
                    
                    
                </tr>
               <% }) %>
                
               




            </tbody>
        </table>
    </div>
</div>

<script>
    function blockbrand(brandId) {
      
        console.log('Block brand with id:', brandId);
    }

    function unblockbrand(brandId) {
        
        console.log('Unblock brand with id:',brandId );
    }
</script>

<%- include('footer')-%>
